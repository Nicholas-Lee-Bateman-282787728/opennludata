{"utterancesLists":[],"tags":[],"_id":"5fa3eb0bdd3ff135ddc2e928","id":"5f9f9ca1765669f74d87c048","title":"image search","invocation":"","entities":{"imageSearch":{"values":["factory","flock of seagulls","galaxies","jlkj4lkj","kittens","mountain range","pigs","space station","sunset"],"lists":["music artists 20c"]}},"intents":{"show picture":[{"example":"show me a picture of jlkj4lkj","entities":[{"type":"imageSearch","value":"jlkj4lkj","start":21,"end":29}]},{"example":"show me a factory","entities":[{"type":"imageSearch","value":"factory","start":10,"end":17}]},{"example":"do you have a picture of a flock of seagulls","entities":[{"type":"imageSearch","value":"flock of seagulls","start":27,"end":44}]},{"example":"find pictures of a mountain range","entities":[{"type":"imageSearch","value":"mountain range","start":19,"end":33}]},{"example":"show me photos of sunset","entities":[{"type":"imageSearch","value":"sunset","start":18,"end":24}]},{"example":"i want to see some kittens","entities":[{"type":"imageSearch","value":"kittens","start":19,"end":26}]},{"example":"show me pictures of pigs","entities":[{"type":"imageSearch","value":"pigs","start":20,"end":24}]},{"example":"give me an image of a space station","entities":[{"type":"imageSearch","value":"space station","start":22,"end":35}]},{"example":"show me pictures of galaxies","entities":[{"type":"imageSearch","value":"galaxies","start":20,"end":28}]}]},"actions":{"search unsplash":{"id":"5f9f9d4970539919455a1cdc","value":"search unsplash","synonyms":"","tags":[],"apis":[{"text":"unsplash","functionCall":"showResults"}],"synonym":"\nvar entities = intent && intent.slots ? intent.slots : {}\nvar criteria = entities['imageSearch'] ? entities['imageSearch'] : ''\nconsole.log(['CRITERIA',criteria,intent,slots])\n\napi('unsplash').search(criteria).then(function(result) {\n    api('unsplash').showResults().then(function(result) {\n        resolve(output,slots)\n    })\n    \n})\n\n","responses":[{"text":"search unsplash waiting"}]}},"apis":{"unsplash":{"id":"5f9fde2da3b40678386bdb4a","value":"unsplash","synonym":"console.log(['unsplash api',window])\n\n\nvar apiKey=\"rdQcxo3iExmblvSDF16A8gBMc5zXQLgk3yEkXk7FFks\"\n\n\nfunction search(criteria, limit=5 ,skip=0) {\n    slot('criteria',criteria)\n        console.log(['API SEARCH CRITERIA',criteria])\n            //+ (skip > 0 ? '&page='+skip/(limit>0 ? limit : 1) : '') +(limit > 0 ? '&per_page='+limit : '') \n    return new Promise(function(resolve,reject) {\n        if (!criteria) {\n            response('unsplash what do you want to see').then(function() {resolve()})\n        } else {\n            response('search unsplash waiting').then(function() {\n                var url='https://api.unsplash.com/search/photos/?client_id='+apiKey+'&per_page=5&query='+criteria ;\n                console.log(url)\n                utils.axios.get(url).then(function(res) {\n                    //console.log(['UNSP RES'])\n                    console.log(['UNSP RES',res])\n                    if (res && res.data && Array.isArray(res.data.results) && res.data.results.length > 0) { \n                        slot('unsplashResults',JSON.stringify(res && res.data && res.data.results  ? res.data.results : []))\n                        resolve(res)  \n                    } else {\n                        response('unsplash not found').then(function() {resolve()})\n                    }\n                })\n            })\n        }\n       //resolve()\n    })\n}\n\n\nfunction showResults() {\n    console.log(['SHOW RES',slots['unsplashResults']])\n    \n    var results= []\n    try {\n        if (slots['unsplashResults']) results = JSON.parse(slots['unsplashResults'])\n    } catch (e) {\n        console.log(e)\n    }\n    return new Promise(function(resolve,reject) {\n        console.log(['PICS',results]);\n        if (Array.isArray(results)) {\n            var promises = []\n            results.map(function(result) {\n                console.log(['PIC',result]);\n                if (result && result.urls && result.urls.regular) {\n                    console.log(['PIC',result.urls.regular]);\n                    promises.push(response('show unsplash images',{unsplashImage: result.urls.regular}))\n                }\n            })\n           // slot('playingYoutubeVideo','https://www.youtube.com/embed/'+ videos[0].id.videoId)\n            Promise.all(promises).then(function(allRes) {\n                resolve()\n            })\n        }\n    })\n} \n\nreturn {\n     search: search, showResults: showResults\n}\n// return object containing api functions\nreturn {\n    test : function() {\n        console.log(test)\n     }\n}","tags":[],"responses":[{"text":"show unsplash images"},{"text":"unsplash what do you want to see"},{"text":"unsplash not found"}]}},"utterances":{"unsplash not found":{"id":"5fa07bc2ce3fd15548faad7a","value":"unsplash not found","synonym":"I couldn't find any images matching {criteria}","tags":[]},"unsplash what do you want to see":{"id":"5fa079aff85b0facf559bffa","value":"unsplash what do you want to see","synonym":"what do you want to see ?","tags":[]},"search unsplash waiting":{"id":"5f9fc6025cc8011bd7e4cb06","value":"search unsplash waiting","synonym":"loading","tags":[]},"show unsplash images":{"id":"5f9f9f762d76166791c02d79","value":"show unsplash images","synonym":"","tags":[],"buttons":[],"images":[{"label":"","href":"{unsplashImage}","youtubeVideoId":"{unsplashImage}","start":"","end":""}]},"i can show pictures":{"id":"5f9f9d3282a50b5486b11ef3","value":"i can show pictures","synonym":"","tags":[],"buttons":[{"label":"show me pictures of the space station","utterance":"","link":""},{"label":"i want to see some kittens","utterance":"","link":""},{"label":"show me pictures of pigs","utterance":"","link":""},{"label":"show me a mountain range","utterance":"","link":""},{"label":"photo of a flock of seagulls","utterance":"","link":""},{"label":"show me a picture of jlkj4lkj","utterance":"","link":""}]}},"rules":[{"rule":"welcome","steps":["intent welcome","utter i can show pictures"]},{"rule":"show me pictures","steps":["intent show picture","action search unsplash"]}],"created_date":1604578059199,"updated_date":1604582651833,"user":"5f5eda81f38a86365b12efc8","userAvatar":"Syntithenai","__v":1,"entitiesData":{"music artists 20c":[{"value":"Foo Fighters","synonym":""},{"value":"Johnny Cash","synonym":""},{"value":"James Brown","synonym":""},{"value":"Jerry Lee Lewis","synonym":""},{"value":"Smokey Robinson & The Miracles","synonym":""},{"value":"Chuck Berry","synonym":""},{"value":"Aretha Franklin","synonym":""},{"value":"Willie Nelson","synonym":""},{"value":"Simon & Garfunkel","synonym":""},{"value":"The Everly Brothers","synonym":""},{"value":"Otis Redding","synonym":""},{"value":"Hank Williams","synonym":""},{"value":"Marvin Gaye","synonym":""},{"value":"Van Morrison","synonym":""},{"value":"The Supremes","synonym":""},{"value":"Bob Dylan","synonym":""},{"value":"The Beatles","synonym":""},{"value":"Neil Young","synonym":""},{"value":"The Temptations","synonym":""},{"value":"Tina Turner","synonym":""},{"value":"Rod Stewart","synonym":""},{"value":"Stevie Wonder","synonym":""},{"value":"Frank Sinatra","synonym":""},{"value":"The Beach Boys","synonym":""},{"value":"Janis Joplin","synonym":""},{"value":"The Righteous Brothers","synonym":""},{"value":"Bob Marley","synonym":""},{"value":"David Bowie","synonym":""},{"value":"The Rolling Stones","synonym":""},{"value":"Jimi Hendrix","synonym":""},{"value":"Alice Cooper","synonym":""},{"value":"The Velvet Underground","synonym":""},{"value":"Lynyrd Skynyrd","synonym":""},{"value":"Bo Diddley","synonym":""},{"value":"The Who","synonym":""},{"value":"Billy Joel","synonym":""},{"value":"Elton John","synonym":""},{"value":"The Doors","synonym":""},{"value":"Pink Floyd","synonym":""},{"value":"Bruce Springsteen","synonym":""},{"value":"Creedence Clearwater Revival","synonym":""},{"value":"Santana","synonym":""},{"value":"Fleetwood Mac","synonym":""},{"value":"Genesis","synonym":""},{"value":"Ray Charles","synonym":""},{"value":"Led Zeppelin","synonym":""},{"value":"Black Sabbath","synonym":""},{"value":"Michael Jackson","synonym":""},{"value":"Parliament Funkadelic","synonym":""},{"value":"Judas Priest","synonym":""},{"value":"Aerosmith","synonym":""},{"value":"Elvis Costello","synonym":""},{"value":"Hall & Oates","synonym":""},{"value":"Kraftwerk","synonym":""},{"value":"Queen","synonym":""},{"value":"Little Richard","synonym":""},{"value":"Earth Wind & Fire","synonym":""},{"value":"The Eagles","synonym":""},{"value":"Van Halen","synonym":""},{"value":"AC/DC","synonym":""},{"value":"KISS","synonym":""},{"value":"Blondie","synonym":""},{"value":"Sex Pistols","synonym":""},{"value":"Talking Heads","synonym":""},{"value":"Iron Maiden","synonym":""},{"value":"The Clash","synonym":""},{"value":"B","synonym":""},{"value":"King","synonym":""},{"value":"Prince","synonym":""},{"value":"U2","synonym":""},{"value":"The Police","synonym":""},{"value":"Whitney Houston","synonym":""},{"value":"Def Leppard","synonym":""},{"value":"Madonna","synonym":""},{"value":"Eurythmics","synonym":""},{"value":"R","synonym":""},{"value":"E","synonym":""},{"value":"M","synonym":""},{"value":"Depeche Mode","synonym":""},{"value":"Run-D","synonym":""},{"value":"C","synonym":""},{"value":"Buddy Holly","synonym":""},{"value":"Anthrax","synonym":""},{"value":"Beastie Boys","synonym":""},{"value":"Metallica","synonym":""},{"value":"Slayer","synonym":""},{"value":"Public Enemy","synonym":""},{"value":"Megadeth","synonym":""},{"value":"Guns N' Roses","synonym":""},{"value":"Radiohead","synonym":""},{"value":"NWA","synonym":""},{"value":"Nirvana","synonym":""},{"value":"Sam Cooke","synonym":""},{"value":"Tupac Shakur","synonym":""},{"value":"Jay-Z","synonym":""},{"value":"Eminem","synonym":""},{"value":"Pearl Jam","synonym":""},{"value":"The Notorious B","synonym":""},{"value":"I","synonym":""},{"value":"G","synonym":""},{"value":"Outkast","synonym":""},{"value":"Justin Timberlake","synonym":""},{"value":"Wu-Tang Clan","synonym":""},{"value":"Amy Winehouse","synonym":""},{"value":"Daft Punk","synonym":""},{"value":"Elvis Presley","synonym":""}]}}